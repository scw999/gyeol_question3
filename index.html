<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„œë¡œì˜ 'ê²°' ì•Œì•„ë³´ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto+Sans+KR', sans-serif;
        }
        .question-card {
            transition: all 0.3s ease-in-out;
        }
        .question-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .result-tag {
            background-color: #f0f0f0;
            color: #374151;
        }
        .brain-type-header {
            font-size: 1.125rem; /* text-lg */
            font-weight: 700; /* font-bold */
            margin-top: 1.5rem; /* mt-6 */
            margin-bottom: 0.5rem; /* mb-2 */
            padding-bottom: 0.5rem; /* pb-2 */
        }
        .male-header {
            border-bottom: 2px solid #93c5fd; /* border-blue-300 */
            color: #1e40af; /* text-blue-800 */
        }
        .female-header {
            border-bottom: 2px solid #f9a8d4; /* border-pink-300 */
            color: #9d174d; /* text-pink-800 */
        }
        /* Animation for result elements */
        .fade-in {
            animation: fadeIn 1s ease-in-out forwards;
        }
        .fade-in-delay-1 { animation-delay: 0.2s; }
        .fade-in-delay-2 { animation-delay: 0.4s; }
        .fade-in-delay-3 { animation-delay: 0.6s; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-50">

    <div id="main-container" class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8 md:mb-12">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800">ì„œë¡œì˜ 'ê²°' ì•Œì•„ë³´ê¸°</h1>
            <p class="mt-2 text-gray-600">ì§ˆë¬¸ì— ë‹µí•˜ê³  ë‘ ë¶„ì˜ ê³ ìœ í•œ 'ê²°'ê³¼ ë§¤ì¹­ë¥ ì„ í™•ì¸í•´ë³´ì„¸ìš”.</p>
        </header>

        <div id="question-section">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-blue-50 p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-center mb-6 text-blue-800">ğŸ¤µâ€â™‚ï¸ ë‚¨ì</h2>
                    <div id="male-questions" class="space-y-6"></div>
                </div>

                <div class="bg-pink-50 p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-center mb-6 text-pink-800">ğŸ‘°â€â™€ï¸ ì—¬ì</h2>
                    <div id="female-questions" class="space-y-6"></div>
                </div>
            </div>
            <div class="text-center mt-8">
                <div id="warning-message" class="mb-4 text-center text-red-500 font-semibold hidden">
                    ëª¨ë“  ì§ˆë¬¸ì— ë‹µë³€í•´ì£¼ì„¸ìš”!
                </div>
                <button id="calculate-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full text-lg transition-transform transform hover:scale-105 shadow-lg">
                    ê²°ê³¼ í™•ì¸í•˜ê¸°
                </button>
            </div>
        </div>
        
        <div id="results" class="hidden mt-8 md:mt-12 bg-white p-8 rounded-2xl shadow-2xl text-center">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-800 opacity-0 fade-in">ìµœì¢… ê²°ê³¼</h2>
            
            <div class="my-8 opacity-0 fade-in fade-in-delay-1">
                <p class="text-lg text-gray-600">ë‘ ë¶„ì˜ ê°€ì¹˜ê´€ ë§¤ì¹­ë¥ ì€...</p>
                <p id="matching-score" class="text-6xl font-extrabold text-indigo-500 my-4">0%</p>
                <div class="w-full bg-gray-200 rounded-full h-4 max-w-lg mx-auto">
                    <div id="score-bar" class="bg-indigo-500 h-4 rounded-full transition-all duration-1000 ease-out" style="width: 0%"></div>
                </div>
            </div>

            <div class="mt-8 pt-6 border-t opacity-0 fade-in fade-in-delay-2">
                <h3 class="text-2xl font-bold text-gray-800 mb-4">âœ¨ ìš°ë¦¬ì˜ ì¢…í•© 'ê²°'</h3>
                <div id="combined-gradient" class="w-full h-32 md:h-40 rounded-2xl flex items-center justify-center relative overflow-hidden shadow-inner">
                     <p id="gradient-text" class="text-white text-3xl font-bold" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">Our Vibe</p>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8 opacity-0 fade-in fade-in-delay-3">
                <!-- ë‚¨ì ê²°ê³¼ -->
                <div class="bg-white p-6 rounded-xl shadow-lg border">
                    <p class="text-gray-600 font-semibold">ğŸ¤µâ€â™‚ï¸ ë‚¨ìì˜ 'ê²°'ì€...</p>
                    <div id="result-visual-male" class="mt-4 p-6 rounded-lg transition-all duration-500">
                        <h3 id="result-profile-text-male" class="text-2xl font-extrabold text-white" style="text-shadow: 1px 1px 3px rgba(0,0,0,0.4);"></h3>
                    </div>
                    <div class="mt-4 text-left">
                        <p id="result-group-name-male" class="font-bold text-lg text-gray-800"></p>
                        <p id="result-group-description-male" class="text-gray-600 mt-1 text-sm"></p>
                    </div>
                </div>
                <!-- ì—¬ì ê²°ê³¼ -->
                <div class="bg-white p-6 rounded-xl shadow-lg border">
                    <p class="text-gray-600 font-semibold">ğŸ‘°â€â™€ï¸ ì—¬ìì˜ 'ê²°'ì€...</p>
                    <div id="result-visual-female" class="mt-4 p-6 rounded-lg transition-all duration-500">
                        <h3 id="result-profile-text-female" class="text-2xl font-extrabold text-white" style="text-shadow: 1px 1px 3px rgba(0,0,0,0.4);"></h3>
                    </div>
                    <div class="mt-4 text-left">
                        <p id="result-group-name-female" class="font-bold text-lg text-gray-800"></p>
                        <p id="result-group-description-female" class="text-gray-600 mt-1 text-sm"></p>
                    </div>
                </div>
            </div>

            <div class="mt-8 pt-6 border-t opacity-0 fade-in fade-in-delay-3">
                <h3 class="text-xl font-bold text-gray-800 mb-4">ğŸ’Œ ë‘ ë¶„ì˜ ê´€ê³„ ì¡°ì–¸</h3>
                <p id="relationship-advice" class="text-gray-700 bg-gray-100 p-4 rounded-lg"></p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8 pt-6 border-t opacity-0 fade-in fade-in-delay-3">
                 <div>
                    <h3 class="text-lg font-bold text-gray-800 mb-4">ë‚¨ìì˜ ìƒì„¸ ì„±í–¥ íƒœê·¸</h3>
                    <div id="male-tags" class="flex flex-wrap gap-2 justify-center"></div>
                </div>
                <div>
                    <h3 class="text-lg font-bold text-gray-800 mb-4">ì—¬ìì˜ ìƒì„¸ ì„±í–¥ íƒœê·¸</h3>
                    <div id="female-tags" class="flex flex-wrap gap-2 justify-center"></div>
                </div>
            </div>

            <div class="mt-12 opacity-0 fade-in fade-in-delay-3">
                 <button id="retry-btn" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 px-8 rounded-full text-lg">
                    ë‹¤ì‹œí•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            // --- 1) Action (ë‚˜ì˜ í–‰ë™ ìœ í˜•) ---
            {
                id: 'q1', brainType: 'Action (ë‚˜ì˜ í–‰ë™ ìœ í˜•)', text: 'ì¸ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í† ë¦¬ì— ì‚¬ì§„ì„ ì˜¬ë¦°ë‹¤ë©´ ì–´ë–¤ ì‚¬ì§„ì„ ì„ íƒí•˜ì‹œê² ì–´ìš”?',
                options: [ { text: 'ì•„ë¦„ë‹¤ìš´ ìì—°ê²½ê´€ì—ì„œ ì°ì€ ë‚´ ì‚¬ì§„ (ê²½í—˜ì¤‘ì‹œí˜•)', tag: '#ê²½í—˜ì¤‘ì‹œí˜•'}, { text: 'ë¯¸ìŠë­ 5ìŠ¤íƒ€ ê³ ê¸‰ ë ˆìŠ¤í† ë‘ì˜ ìŒì‹ ì‚¬ì§„ (ì„±ì·¨ì§€í–¥í˜•)', tag: '#ì„±ì·¨ì§€í–¥í˜•'}, { text: 'ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ íŒŒí‹°ë¥¼ ì¦ê¸°ëŠ” ì—­ë™ì ì¸ ì‚¬ì§„ (ì‚¬êµí˜•)', tag: '#ì‚¬êµí˜•'}, { text: 'ì¸ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í† ë¦¬ëŠ” ì˜ ì˜¬ë¦¬ì§€ ì•ŠëŠ” í¸ì´ë‹¤ (ì•ˆì •ì§€í–¥í˜•)', tag: '#ì•ˆì •ì§€í–¥í˜•'} ]
            },
            {
                id: 'q2', brainType: 'Action (ë‚˜ì˜ í–‰ë™ ìœ í˜•)', text: 'ì„ í˜¸í•˜ëŠ” ìš´ë™ ìŠ¤íƒ€ì¼ì€ ë¬´ì—‡ì¸ê°€ìš”?',
                options: [ { text: 'í˜¼ì ì§‘ì¤‘í•˜ë©° ì¦ê¸°ëŠ” ìš´ë™ (ëŸ¬ë‹, í—¬ìŠ¤ ë“±) (ìê¸°ê³„ë°œí˜•)', tag: '#ìê¸°ê³„ë°œí˜•'}, { text: 'íŒŒíŠ¸ë„ˆë‚˜ íŒ€ê³¼ í•¨ê»˜í•˜ëŠ” ìš´ë™ (í…Œë‹ˆìŠ¤, ì¶•êµ¬ ë“±) (í™œë™ì ì¸)', tag: '#í™œë™ì ì¸'}, { text: 'ìš´ë™ì€ ë³„ë¡œ ì¦ê¸°ì§€ ì•ŠëŠ”ë‹¤ (ì •ì ì¸)', tag: '#ì •ì ì¸'} ]
            },
            {
                id: 'q22', brainType: 'Action (ë‚˜ì˜ í–‰ë™ ìœ í˜•)', text: 'ë‹¹ì‹ ì˜ ì´ìƒì ì¸ ì£¼ë§ì€ ì–´ë–¤ ëª¨ìŠµì— ê°€ê¹Œìš´ê°€ìš”?',
                options: [ { text: 'ì§‘ì—ì„œ í¸ì•ˆí•˜ê²Œ íœ´ì‹ì„ ì·¨í•˜ë©° ì¬ì¶©ì „í•œë‹¤. (ì§‘ìˆœì´/ì§‘ëŒì´)', tag: '#ì§‘ìˆœì´/ì§‘ëŒì´'}, { text: 'ìƒˆë¡œìš´ ê²ƒì„ ë°°ìš°ê±°ë‚˜ ì·¨ë¯¸ í™œë™ì— ëª°ë‘í•œë‹¤. (ìê¸°ê³„ë°œí˜•)', tag: '#ìê¸°ê³„ë°œí˜•'}, { text: 'ì¹œêµ¬ë“¤ì„ ë§Œë‚˜ê±°ë‚˜ ìƒˆë¡œìš´ ì‚¬ëŒë“¤ê³¼ ì–´ìš¸ë¦°ë‹¤. (ì‚¬êµí˜•)', tag: '#ì‚¬êµí˜•'}, { text: 'ê°€ê¹Œìš´ ê³³ìœ¼ë¡œ ì—¬í–‰ì„ ë– ë‚˜ ìƒˆë¡œìš´ ê²½í—˜ì„ í•œë‹¤. (ëª¨í—˜ì¶”êµ¬í˜•)', tag: '#ëª¨í—˜ì¶”êµ¬í˜•'} ]
            },
            // --- 2) Emotion (ë‚˜ì˜ ê°ì • ë° ê´€ê³„ ìœ í˜•) ---
            {
                id: 'q4', brainType: 'Emotion (ë‚˜ì˜ ê°ì • ë° ê´€ê³„ ìœ í˜•)', text: 'ê¿ˆê¾¸ëŠ” í”„ëŸ¬í¬ì¦ˆëŠ” ì–´ë–¤ ëª¨ìŠµì¸ê°€ìš”?',
                options: [ { text: 'ë¶„ìœ„ê¸° ì¢‹ì€ ë ˆìŠ¤í† ë‘ì—ì„œì˜ ë¡œë§¨í‹±í•œ í”„ëŸ¬í¬ì¦ˆ (ë‚­ë§Œì£¼ì˜í˜•)', tag: '#ë‚­ë§Œì£¼ì˜í˜•'}, { text: 'ë§ì€ ì‚¬ëŒë“¤ ì•ì—ì„œì˜ ê¹œì§ í”„ëŸ¬í¬ì¦ˆ (ì´ë²¤íŠ¸ì„ í˜¸)', tag: '#ì´ë²¤íŠ¸ì„ í˜¸'}, { text: 'ë‘˜ë§Œì˜ ì¶”ì–µì´ ë‹´ê¸´ ì¥ì†Œì—ì„œì˜ ì§„ì†”í•œ í”„ëŸ¬í¬ì¦ˆ (ê´€ê³„ì¤‘ì‹¬í˜•)', tag: '#ê´€ê³„ì¤‘ì‹¬í˜•'}, { text: 'í™”ë ¤í•¨ë³´ë‹¤ ì§„ì‹¬ì´ ë‹´ê¸´ ë°˜ì§€ì™€ í¸ì§€ (ì‹¤ìš©ì£¼ì˜í˜•)', tag: '#ì‹¤ìš©ì£¼ì˜í˜•'} ]
            },
            {
                id: 'q5', brainType: 'Emotion (ë‚˜ì˜ ê°ì • ë° ê´€ê³„ ìœ í˜•)', text: 'ì—°ì¸ì´ í–ˆì„ ë•Œ ê°€ì¥ ì„¤ë ˆëŠ” í–‰ë™ì€ ë¬´ì—‡ì¸ê°€ìš”?',
                options: [ { text: 'ë‚´ê°€ í–ˆë˜ ë§ì„ ê¸°ì–µí•˜ê³  ì„¸ì‹¬í•˜ê²Œ ì±™ê²¨ì¤„ ë•Œ (ì„¸ì‹¬í•¨ì¤‘ì‹œ)', tag: '#ì„¸ì‹¬í•¨ì¤‘ì‹œ'}, { text: 'í˜ë“  í•˜ë£¨ ëì— ë§ì—†ì´ ê¼­ ì•ˆì•„ì¤„ ë•Œ (ìŠ¤í‚¨ì‹­ì¤‘ì‹œ)', tag: '#ìŠ¤í‚¨ì‹­ì¤‘ì‹œ'}, { text: 'ë‚˜ì˜ ì¼ì´ë‚˜ ì„±ê³¼ë¥¼ ì§„ì‹¬ìœ¼ë¡œ ì‘ì›í•˜ê³  ì§€ì§€í•´ì¤„ ë•Œ (ì •ì„œì ì§€ì§€)', tag: '#ì •ì„œì ì§€ì§€'}, { text: 'í•¨ê»˜ ì‹œê°„ì„ ë³´ë‚¼ ë•Œ ë‚˜ì—ê²Œ ì˜¨ì „íˆ ì§‘ì¤‘í•´ì¤„ ë•Œ (ì‹œê°„ê³µìœ í˜•)', tag: '#ì‹œê°„ê³µìœ í˜•'} ]
            },
             {
                id: 'q23', brainType: 'Emotion (ë‚˜ì˜ ê°ì • ë° ê´€ê³„ ìœ í˜•)', text: 'ê³µê³µì¥ì†Œì—ì„œì˜ ì• ì •í‘œí˜„(ìŠ¤í‚¨ì‹­)ì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•˜ì‹œë‚˜ìš”?',
                options: [ { text: 'ì† ì¡ëŠ” ê²ƒ ì •ë„ëŠ” ê´œì°®ì§€ë§Œ, ê·¸ ì´ìƒì€ ì¡°ì‹¬ìŠ¤ëŸ½ë‹¤. (ë³´ìˆ˜ì ê°€ì¹˜ê´€)', tag: '#ë³´ìˆ˜ì ê°€ì¹˜ê´€'}, { text: 'ì£¼ë³€ì— í”¼í•´ë§Œ ì£¼ì§€ ì•ŠëŠ”ë‹¤ë©´ ììœ ë¡­ê²Œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤. (ììœ ë¡œìš´í‘œí˜„)', tag: '#ììœ ë¡œìš´í‘œí˜„'}, { text: 'ì• ì •í‘œí˜„ì€ ë‘˜ë§Œ ìˆëŠ” ì‚¬ì ì¸ ê³µê°„ì—ì„œ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. (ì‚¬ìƒí™œì¤‘ì‹œ)', tag: '#ì‚¬ìƒí™œì¤‘ì‹œ'}, { text: 'ì¥ì†Œì™€ ë¶„ìœ„ê¸°ì— ë”°ë¼ ìœ ì—°í•˜ê²Œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤. (ìƒí™©ì ì‘í˜•)', tag: '#ìƒí™©ì ì‘í˜•'} ]
            },
            {
                id: 'q26', brainType: 'Emotion (ë‚˜ì˜ ê°ì • ë° ê´€ê³„ ìœ í˜•)', text: 'ë¹„ ì˜¤ëŠ” ë‚ , í‡´ê·¼ ì‹œê°„ì— ë§ì¶° ì—°ì¸ì´ íšŒì‚¬ ì•ì— ìš°ì‚°ì„ ë“¤ê³  ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë°˜ì‘ì€?',
                options: [ { text: 'ìš°ì™€, ì–´ë–»ê²Œ ì•Œê³  ì™”ì–´? ì™€ì¤˜ì„œ ì •ë§ ê³ ë§ˆì›Œ! (ê°ì •í‘œí˜„í˜•)', tag: '#ê°ì •í‘œí˜„í˜•'}, { text: 'ê´œì°®ì€ë° ì™œ ê³ ìƒìŠ¤ëŸ½ê²Œ ì™”ì–´~ ê±±ì •ë˜ì–ì•„. (ë°°ë ¤í˜•)', tag: '#ë°°ë ¤í˜•'}, { text: 'ë§ˆì¹¨ ë³´ê³  ì‹¶ì—ˆëŠ”ë°, ì´ë ‡ê²Œ ê¹œì§ìœ¼ë¡œ ë³´ë‹ˆ ë” ì¢‹ë‹¤! (ë‚­ë§Œì£¼ì˜í˜•)', tag: '#ë‚­ë§Œì£¼ì˜í˜•'}, { text: 'ì˜ ì™”ë‹¤! ì´ì™• ë§Œë‚¬ìœ¼ë‹ˆ ë§›ìˆëŠ” ê±° ë¨¹ìœ¼ëŸ¬ ê°ˆê¹Œ? (ì‹¤ìš©ì£¼ì˜í˜•)', tag: '#ì‹¤ìš©ì£¼ì˜í˜•'} ]
            },
            {
                id: 'q17', brainType: 'Emotion (ë‚˜ì˜ ê°ì • ë° ê´€ê³„ ìœ í˜•)', text: 'ë‚´ ì—°ì¸ì´ ë‚´ ì¹œêµ¬ì˜ ê¹»ìì„ ë–¼ì£¼ëŠ” ê²ƒì„ ë³´ì•˜ìŠµë‹ˆë‹¤. ë‹¹ì‹ ì˜ ìƒê°ì€?',
                options: [ { text: 'ì•„ë¬´ë ‡ì§€ ì•Šë‹¤. ê·¸ëŸ´ ìˆ˜ ìˆë‹¤. (ì¿¨í•œì—°ì• )', tag: '#ì¿¨í•œì—°ì• '}, { text: 'ê¸°ë¶„ì€ ì¢€ ê·¸ë ‡ì§€ë§Œ í‹° ë‚´ì§€ ì•ŠëŠ”ë‹¤. (ê°ì •ì¡°ì ˆí˜•)', tag: '#ê°ì •ì¡°ì ˆí˜•'}, { text: 'ì—°ì¸ì—ê²Œ ì¥ë‚œìŠ¤ëŸ½ê²Œ ì„œìš´í•¨ì„ í‘œí˜„í•œë‹¤. (ê´€ê³„ì¤‘ì‹¬í˜•)', tag: '#ê´€ê³„ì¤‘ì‹¬í˜•'}, { text: 'ì ˆëŒ€ ì•ˆëœë‹¤. ê·¸ ìë¦¬ì—ì„œ ì´ì•¼ê¸°í•œë‹¤. (ì›ì¹™ì£¼ì˜í˜•)', tag: '#ì›ì¹™ì£¼ì˜í˜•'} ]
            },
            {
                id: 'q18', brainType: 'Emotion (ë‚˜ì˜ ê°ì • ë° ê´€ê³„ ìœ í˜•)', text: 'ì„ í˜¸í•˜ëŠ” ë°˜ë ¤ë™ë¬¼ì´ ìˆë‚˜ìš”?',
                options: [ { text: 'í™œë™ì ì´ê³  ì• êµ ë§ì€ ê°•ì•„ì§€ê°€ ì¢‹ë‹¤. (í™œë™ì ì¸)', tag: '#í™œë™ì ì¸'}, { text: 'ë…ë¦½ì ì´ê³  ì°¨ë¶„í•œ ê³ ì–‘ì´ê°€ ì¢‹ë‹¤. (ì°¨ë¶„í•œ)', tag: '#ì°¨ë¶„í•œ'}, { text: 'ë‘˜ ë‹¤ ì¢‹ì§€ë§Œ, í‚¤ìš¸ ìì‹ ì€ ì—†ë‹¤. (í˜„ì‹¤ì£¼ì˜í˜•)', tag: '#í˜„ì‹¤ì£¼ì˜í˜•'}, { text: 'ë°˜ë ¤ë™ë¬¼ì„ í‚¤ìš°ëŠ” ê²ƒì€ ì„ í˜¸í•˜ì§€ ì•ŠëŠ”ë‹¤. (ê°œì¸ì£¼ì˜í˜•)', tag: '#ê°œì¸ì£¼ì˜í˜•'} ]
            },
            // --- 3) Thinking (ë‚˜ì˜ ê°€ì¹˜ê´€ ë° ìƒê° ìœ í˜•) ---
            {
                id: 'q11', brainType: 'Thinking (ë‚˜ì˜ ê°€ì¹˜ê´€ ë° ìƒê° ìœ í˜•)', text: 'ì„±ê³µí•œ ì¹œêµ¬ê°€ í™•ì‹¤í•œ íˆ¬ìì²˜ë¼ë©° ì£¼ì‹ ì •ë³´ë¥¼ ì£¼ì—ˆìŠµë‹ˆë‹¤. ì–´ë–»ê²Œ í•˜ì‹œê² ì–´ìš”?',
                options: [ { text: 'ì¹œêµ¬ë¥¼ ë¯¿ê³  \'ì˜ëŒ\' ëŒ€ì¶œì„ í•´ì„œ íˆ¬ìí•œë‹¤ (ê³¼ê°í•œíˆ¬ì)', tag: '#ê³¼ê°í•œíˆ¬ì'}, { text: 'í˜„ì¬ ë³´ìœ í•œ í˜„ê¸ˆ ì „ë¶€ë¥¼ íˆ¬ìí•œë‹¤ (ê³µê²©ì íˆ¬ì)', tag: '#ê³µê²©ì íˆ¬ì'}, { text: 'ì—¬ìœ  ìê¸ˆì˜ ì ˆë°˜ ì •ë„ë§Œ ì‹ ì¤‘í•˜ê²Œ íˆ¬ìí•œë‹¤ (ì•ˆì •ì íˆ¬ì)', tag: '#ì•ˆì •ì íˆ¬ì'}, { text: 'ìŠ¤ìŠ¤ë¡œ ë¶„ì„ ì—†ì´ëŠ” íˆ¬ìí•˜ì§€ ì•ŠëŠ”ë‹¤ (ì›ì¹™ì£¼ì˜í˜•)', tag: '#ì›ì¹™ì£¼ì˜í˜•'} ]
            },
             {
                id: 'q19', brainType: 'Thinking (ë‚˜ì˜ ê°€ì¹˜ê´€ ë° ìƒê° ìœ í˜•)', text: 'ì—°ì¸ê³¼ ê°ˆë“±ì´ ìƒê²¼ì„ ë•Œ, ë‹¹ì‹ ì€ ì–´ë–»ê²Œ í•´ê²°í•˜ë‚˜ìš”?',
                options: [ { text: 'ê°ì •ì´ ê°€ë¼ì•‰ì„ ë•Œê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€ ì°¨ë¶„íˆ ëŒ€í™”í•œë‹¤. (ë…¼ë¦¬ì ëŒ€í™”)', tag: '#ë…¼ë¦¬ì ëŒ€í™”'}, { text: 'ê°ˆë“±ì´ ê¸¸ì–´ì§€ëŠ”ê²Œ ì‹«ì–´ ë¹¨ë¦¬ ì‚¬ê³¼í•˜ê³  ë„˜ì–´ê°„ë‹¤. (ê°ˆë“±íšŒí”¼í˜•)', tag: '#ê°ˆë“±íšŒí”¼í˜•'}, { text: 'ê°ì •ì„ ì†”ì§í•˜ê²Œ ëª¨ë‘ í‘œí˜„í•´ì•¼ ì§ì„±ì´ í’€ë¦°ë‹¤. (ê°ì •í‘œí˜„í˜•)', tag: '#ê°ì •í‘œí˜„í˜•'}, { text: 'í•¨ê»˜ ë¬¸ì œë¥¼ ë¶„ì„í•˜ê³  í•´ê²°ì±…ì„ ì°¾ìœ¼ë ¤ ë…¸ë ¥í•œë‹¤. (ë¬¸ì œí•´ê²°í˜•)', tag: '#ë¬¸ì œí•´ê²°í˜•'} ]
            },
            {
                id: 'q27', brainType: 'Thinking (ë‚˜ì˜ ê°€ì¹˜ê´€ ë° ìƒê° ìœ í˜•)', text: 'ë°°ìš°ìê°€ ì²­ì†Œê¸°ë¥¼ ëŒë ¸ëŠ”ë° êµ¬ì„ì— ë¨¼ì§€ê°€ ê·¸ëŒ€ë¡œ ìˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë°˜ì‘ì€?',
                 options: [ { text: 'ìš°ì™€, ì²­ì†Œí•´ì¤¬ë„¤! ì •ë§ ê³ ë§ˆì›Œ~ (ê¸ì •ì ê°•í™”)', tag: '#ê¸ì •ì ê°•í™”'}, { text: 'ê³ ë§ˆì›Œ! ë‹¤ìŒì—” ì´ìª½ êµ¬ì„ë„ í•œë²ˆ ë” ì‹ ê²½ ì¨ì£¼ë©´ ì™„ë²½í•  ê²ƒ ê°™ì•„! (í”¼ë“œë°±ì œê³µ)', tag: '#í”¼ë“œë°±ì œê³µ'}, { text: 'ë§ì—†ì´ ë‚´ê°€ ì§ì ‘ ë‚˜ë¨¸ì§€ ë¨¼ì§€ë¥¼ ì²­ì†Œí•œë‹¤. (ê°ˆë“±íšŒí”¼í˜•)', tag: '#ê°ˆë“±íšŒí”¼í˜•'}, { text: 'ê·¸ ì •ë„ëŠ” ê´œì°®ì•„. ì‹ ê²½ ì“°ì§€ ì•ŠëŠ”ë‹¤. (ììœ ë¡œìš´)', tag: '#ììœ ë¡œìš´'} ]
            },
            {
                id: 'q24', brainType: 'Thinking (ë‚˜ì˜ ê°€ì¹˜ê´€ ë° ìƒê° ìœ í˜•)', text: 'ê²°í˜¼ í›„ ì–‘ê°€ ë¶€ëª¨ë‹˜ ëŒ ë°©ë¬¸ ë¹ˆë„ëŠ” ì–´ëŠ ì •ë„ê°€ ì ë‹¹í•˜ë‹¤ê³  ìƒê°í•˜ì‹œë‚˜ìš”?',
                options: [ { text: 'ëª…ì ˆì´ë‚˜ ìƒì‹  ë“± íŠ¹ë³„í•œ ë‚ ì—ë§Œ ë°©ë¬¸í•œë‹¤. (ë…ë¦½ì„±ì¤‘ì‹œ)', tag: '#ë…ë¦½ì„±ì¤‘ì‹œ'}, { text: 'í•œë‘ ë‹¬ì— í•œ ë²ˆ ì •ë„ëŠ” ì •ê¸°ì ìœ¼ë¡œ ì°¾ì•„ëµ™ëŠ”ë‹¤. (ê°€ì¡±ì¤‘ì‹¬í˜•)', tag: '#ê°€ì¡±ì¤‘ì‹¬í˜•'}, { text: 'ì •í•´ì§„ ê²ƒ ì—†ì´, í•„ìš”í•˜ê±°ë‚˜ ì›í•  ë•Œ ììœ ë¡­ê²Œ ì™•ë˜í•œë‹¤. (ììœ ì¶”êµ¬í˜•)', tag: '#ììœ ì¶”êµ¬í˜•'}, { text: 'ê°€ê¹Œì´ ì‚´ë©´ì„œ ìì£¼ ì™•ë˜í•˜ë©° ê°€ê¹ê²Œ ì§€ë‚¸ë‹¤. (ê´€ê³„ì¤‘ì‹¬í˜•)', tag: '#ê´€ê³„ì¤‘ì‹¬í˜•'} ]
            },
             {
                id: 'q25', brainType: 'Thinking (ë‚˜ì˜ ê°€ì¹˜ê´€ ë° ìƒê° ìœ í˜•)', text: 'ê°€ì‚¬(ì§‘ì•ˆì¼) ë¶„ë‹´ì— ëŒ€í•œ ë‹¹ì‹ ì˜ ìƒê°ì€?',
                options: [ { text: 'ê°ì ì˜í•˜ëŠ” ì¼ì„ ì •í•´ì„œ ëª…í™•í•˜ê²Œ ì—­í• ì„ ë‚˜ëˆˆë‹¤. (íš¨ìœ¨ì¤‘ì‹œí˜•)', tag: '#íš¨ìœ¨ì¤‘ì‹œí˜•'}, { text: 'ì •í•´ë†“ì§€ ì•Šê³ , ì‹œê°„ì´ ë˜ê±°ë‚˜ ë¨¼ì € ë³´ëŠ” ì‚¬ëŒì´ í•œë‹¤. (ììœ¨í˜•)', tag: '#ììœ¨í˜•'}, { text: 'ì£¼ë§ ë“± íŠ¹ì • ì‹œê°„ì„ ì •í•´ í•¨ê»˜ ì§‘ì¤‘ì ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤. (ê³„íší˜•)', tag: '#ê³„íší˜•'}, { text: 'ê°€ì‚¬ë„ìš°ë¯¸, ì‹ê¸°ì„¸ì²™ê¸° ë“± ì‹œìŠ¤í…œì„ ì ê·¹ í™œìš©í•œë‹¤. (í¸ë¦¬ì„±ì¶”êµ¬)', tag: '#í¸ë¦¬ì„±ì¶”êµ¬'} ]
            },
            {
                id: 'q12', brainType: 'Thinking (ë‚˜ì˜ ê°€ì¹˜ê´€ ë° ìƒê° ìœ í˜•)', text: 'ì´ìƒì ì¸ ìë…€ ìˆ˜ëŠ” ëª‡ ëª…ì¸ê°€ìš”?',
                options: [ { text: 'ë”©í¬(DINK)ì¡±, ìë…€ ì—†ì´ ë‘˜ë§Œì˜ ì‚¶ (ê°œì¸ì£¼ì˜í˜•)', tag: '#ê°œì¸ì£¼ì˜í˜•'}, { text: 'í•œ ëª…ì˜ ìë…€ì—ê²Œ ì§‘ì¤‘ (ê³„íší˜•)', tag: '#ê³„íší˜•'}, { text: 'ì•ˆì •ì ì´ê³  í™”ëª©í•œ ë‘ ëª…ì˜ ìë…€ (ê°€ì •ì¤‘ì‹¬í˜•)', tag: '#ê°€ì •ì¤‘ì‹¬í˜•'}, { text: 'ë‹¤ë‘¥ì´ ê°€ì •ì„ ê¿ˆê¿”ìš” (ë‹¤ìë…€ì„ í˜¸)', tag: '#ë‹¤ìë…€ì„ í˜¸'} ]
            },
            {
                id: 'q13', brainType: 'Thinking (ë‚˜ì˜ ê°€ì¹˜ê´€ ë° ìƒê° ìœ í˜•)', text: 'ì„ í˜¸í•˜ëŠ” ë¶€ë¶€ì˜ ê²½ì œ í™œë™ í˜•íƒœëŠ” ë¬´ì—‡ì¸ê°€ìš”?',
                options: [ { text: 'ê°ìì˜ ì»¤ë¦¬ì–´ë¥¼ ì¡´ì¤‘í•˜ëŠ” ë§ë²Œì´ (ì„±ì¥ì§€í–¥í˜•)', tag: '#ì„±ì¥ì§€í–¥í˜•'}, { text: 'ìƒí™©ì— ë”°ë¼ ìœ ì—°í•˜ê²Œ, ê°€ëŠ¥í•˜ë©´ ë§ë²Œì´ (ìƒí™©ì ì‘í˜•)', tag: '#ìƒí™©ì ì‘í˜•'}, { text: 'í•œ ì‚¬ëŒì€ ê²½ì œí™œë™, í•œ ì‚¬ëŒì€ ê°€ì •ì„ ëŒë³´ëŠ” ì™¸ë²Œì´ (ì „í†µì ê°€ì¹˜ê´€)', tag: '#ì „í†µì ê°€ì¹˜ê´€'}, { text: 'ê²½ì œì  ì—¬ìœ ë§Œ ìˆë‹¤ë©´, ììœ ë¡­ê²Œ ì‚´ê³  ì‹¶ì–´ìš” (ììœ ì¶”êµ¬í˜•)', tag: '#ììœ ì¶”êµ¬í˜•'} ]
            },
            {
                id: 'q15', brainType: 'Thinking (ë‚˜ì˜ ê°€ì¹˜ê´€ ë° ìƒê° ìœ í˜•)', text: 'ë‹¹ì‹ ì´ ê²°í˜¼ì„ ì›í•˜ëŠ” ê°€ì¥ í° ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?',
                options: [ { text: 'ì •ì„œì  ì•ˆì •ê°ê³¼ í‰ìƒì˜ ë™ë°˜ìë¥¼ ì–»ê¸° ìœ„í•´ (ì•ˆì •ì§€í–¥í˜•)', tag: '#ì•ˆì •ì§€í–¥í˜•'}, { text: 'ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒê³¼ ê°€ì •ì„ ê¾¸ë¦¬ê¸° ìœ„í•´ (ê°€ì •ì¤‘ì‹¬í˜•)', tag: '#ê°€ì •ì¤‘ì‹¬í˜•'}, { text: 'ë” ë‚˜ì€ ë¯¸ë˜ë¥¼ í•¨ê»˜ ê³„íší•˜ê³  ì„±ì¥í•˜ê¸° ìœ„í•´ (ì„±ì¥ì§€í–¥í˜•)', tag: '#ì„±ì¥ì§€í–¥í˜•'}, { text: 'í•¨ê»˜ ë‹¤ì–‘í•œ ê²½í—˜ì„ í•˜ë©° ì¸ìƒì„ ë” ì¦ê²ê²Œ ì‚´ê¸° ìœ„í•´ (ëª¨í—˜ì¶”êµ¬í˜•)', tag: '#ëª¨í—˜ì¶”êµ¬í˜•'} ]
            },
            {
                id: 'q16', brainType: 'Thinking (ë‚˜ì˜ ê°€ì¹˜ê´€ ë° ìƒê° ìœ í˜•)', text: 'ì‹ í˜¼ì§‘ì„ êµ¬í•œë‹¤ë©´, ë‹¹ì‹ ì˜ ìš°ì„ ìˆœìœ„ëŠ” ì–´ë””ì— ìˆë‚˜ìš”?',
                options: [ { text: 'ë¯¸ë˜ ê°€ì¹˜ë¥¼ ë³´ê³  ì„œìš¸ ì¤‘ì‹¬ì§€ ì•„íŒŒíŠ¸ (ë¯¸ë˜ê°€ì¹˜ì¤‘ì‹œ)', tag: '#ë¯¸ë˜ê°€ì¹˜ì¤‘ì‹œ'}, { text: 'í˜„ì¬ì˜ ì•ˆì •ì„ ìœ„í•´ ê²½ê¸°ë„ ì‹ ì¶• ì•„íŒŒíŠ¸ (í˜„ì¬ì•ˆì •ì¤‘ì‹œ)', tag: '#í˜„ì¬ì•ˆì •ì¤‘ì‹œ'}, { text: 'ì§ì£¼ê·¼ì ‘ì´ ê°€ì¥ ì¤‘ìš” (ì‹¤ìš©ì£¼ì˜í˜•)', tag: '#ì‹¤ìš©ì£¼ì˜í˜•'}, { text: 'ê°œì¸ì˜ ì·¨í–¥ì´ ë‹´ê¸´ ì¸í…Œë¦¬ì–´ì˜ ì§‘ (ì‹¬ë¯¸ì£¼ì˜í˜•)', tag: '#ì‹¬ë¯¸ì£¼ì˜í˜•'} ]
            }
        ];
        
        const tagGroups = {
            EMOTIONAL_CONNECT: { tags: ['#ë‚­ë§Œì£¼ì˜í˜•', '#ê´€ê³„ì¤‘ì‹¬í˜•', '#ê°ì„±í˜•', '#ì„¸ì‹¬í•¨ì¤‘ì‹œ', '#ìŠ¤í‚¨ì‹­ì¤‘ì‹œ', '#ì •ì„œì ì§€ì§€', '#ë°°ë ¤í˜•', '#ê°ì •í‘œí˜„í˜•', '#ê¸ì •ì ê°•í™”', '#ê°€ì¡±ì¤‘ì‹¬í˜•', '#ë‹¤ìë…€ì„ í˜¸'] },
            PRACTICAL_RATIONAL: { tags: ['#ì‹¤ìš©ì£¼ì˜í˜•', '#ì›ì¹™ì£¼ì˜í˜•', '#í˜„ì‹¤ì£¼ì˜í˜•', '#ì´ì„±ì íŒë‹¨', '#ë…¼ë¦¬ì ëŒ€í™”', '#ë¬¸ì œí•´ê²°í˜•', '#íš¨ìœ¨ì¤‘ì‹œí˜•', '#í”¼ë“œë°±ì œê³µ', '#ë¯¸ë˜ê°€ì¹˜ì¤‘ì‹œ'] },
            STABILITY_ORIENTED: { tags: ['#ì•ˆì •ì§€í–¥í˜•', '#ì•ˆì •ì íˆ¬ì', '#ê³„íší˜•', '#ì§‘ìˆœì´/ì§‘ëŒì´', '#ë³´ìˆ˜ì ê°€ì¹˜ê´€', '#í˜„ì¬ì•ˆì •ì¤‘ì‹œ', '#ì „í†µì ê°€ì¹˜ê´€', '#ì •ì ì¸'] },
            ACTIVE_EXPERIENCE: { tags: ['#ê²½í—˜ì¤‘ì‹œí˜•', '#ì„±ì·¨ì§€í–¥í˜•', '#ì‚¬êµí˜•', '#í™œë™ì ì¸', '#ëª¨í—˜ì¶”êµ¬í˜•', '#ì´ë²¤íŠ¸ì„ í˜¸', '#ê³¼ê°í•œíˆ¬ì', '#ê³µê²©ì íˆ¬ì', '#ìê¸°ê³„ë°œí˜•', '#ì„±ì¥ì§€í–¥í˜•'] },
            AUTONOMY_FLEXIBILITY: { tags: ['#ê°œì¸ì£¼ì˜í˜•', '#ì¿¨í•œì—°ì• ', '#ììœ ë¡œìš´í‘œí˜„', '#ì‚¬ìƒí™œì¤‘ì‹œ', '#ììœ ì¶”êµ¬í˜•', '#ë…ë¦½ì„±ì¤‘ì‹œ', '#ììœ¨í˜•', '#ê°ˆë“±íšŒí”¼í˜•', '#ììœ ë¡œìš´'] },
            ADAPTIVE_BALANCED: { tags: ['#ìƒí™©ì ì‘í˜•', '#ê°ì •ì¡°ì ˆí˜•', '#í¸ë¦¬ì„±ì¶”êµ¬', '#ì‹¬ë¯¸ì£¼ì˜í˜•', '#ì°¨ë¶„í•œ'] }
        };

        const sensoryProfiles = {
            EMOTIONAL_CONNECT: { name: "ê°ì„±/ê´€ê³„ ì¤‘ì‹¬", description: "ì‚¬ëŒë“¤ê³¼ì˜ ë”°ëœ»í•œ ìœ ëŒ€ì™€ ê°ì •ì  êµë¥˜ì—ì„œ í–‰ë³µì„ ëŠë¼ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. íƒ€ì¸ì˜ ë§ˆìŒì— ê¹Šì´ ê³µê°í•˜ë©°, ê´€ê³„ë¥¼ í†µí•´ ì•ˆì •ê°ì„ ì–»ëŠ” ì„¬ì„¸í•œ 'ê²°'ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.", background: "bg-pink-400", colorCode: "#F9A8D4" },
            PRACTICAL_RATIONAL: { name: "ì‹¤ìš©/ì´ì„± ì¤‘ì‹¬", description: "ëª…í™•í•œ ë…¼ë¦¬ì™€ íš¨ìœ¨ì„±ì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ë©°, ë¬¸ì œ í•´ê²°ì— ë›°ì–´ë‚œ ëŠ¥ë ¥ì„ ë³´ì…ë‹ˆë‹¤. ê°ì •ë³´ë‹¤ ì´ì„±ì ì¸ íŒë‹¨ì„ ìš°ì„ ì‹œí•˜ëŠ” ì‹œì›í•˜ê³  íˆ¬ëª…í•œ 'ê²°'ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.", background: "bg-blue-500", colorCode: "#3B82F6" },
            STABILITY_ORIENTED: { name: "ì•ˆì • ì§€í–¥", description: "ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  í¸ì•ˆí•œ í™˜ê²½ì—ì„œ ê°€ì¥ í° ì•ˆì •ê°ì„ ëŠë‚ë‹ˆë‹¤. ê¾¸ì¤€í•¨ê³¼ ì‹ ë¢°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‚¶ì„ ë‹¨ë‹¨í•˜ê²Œ ê°€ê¾¸ì–´ ë‚˜ê°€ëŠ” ì°¨ë¶„í•˜ê³  ê¹Šì€ 'ê²°'ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.", background: "bg-green-500", colorCode: "#22C55E" },
            ACTIVE_EXPERIENCE: { name: "í™œë™/ê²½í—˜ ì§€í–¥", description: "ìƒˆë¡œìš´ ë„ì „ê³¼ ê²½í—˜ì„ í†µí•´ ì‚¶ì˜ ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ì—´ì •ì ì¸ ì‚¬ëŒì…ë‹ˆë‹¤. ëŠì„ì—†ì´ ì„±ì¥í•˜ê³  ì„¸ìƒì„ íƒí—˜í•˜ê³ ì í•˜ëŠ” ë°˜ì§ì´ëŠ” 'ê²°'ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.", background: "bg-amber-500", colorCode: "#F59E0B" },
            AUTONOMY_FLEXIBILITY: { name: "ììœ¨/ìœ ì—° ì§€í–¥", description: "ìì‹ ë§Œì˜ ê³ ìœ í•œ ê°œì„±ê³¼ ììœ ë¥¼ ë¬´ì—‡ë³´ë‹¤ ì¤‘ìš”í•˜ê²Œ ìƒê°í•©ë‹ˆë‹¤. ì •í•´ì§„ í‹€ì— ì–½ë§¤ì´ì§€ ì•Šê³ , ìì‹ ë§Œì˜ ì†ë„ì™€ ë°©ì‹ìœ¼ë¡œ ì„¸ìƒì„ ì‚´ì•„ê°€ëŠ” ì‹ ë¹„ë¡œìš´ 'ê²°'ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.", background: "bg-purple-500", colorCode: "#8B5CF6" },
            ADAPTIVE_BALANCED: { name: "ìƒí™©ì ì‘/ê· í˜•", description: "ì–´ë–¤ ìƒí™©ì—ì„œë„ ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•˜ë©°, ê°ˆë“±ë³´ë‹¤ëŠ” ì¡°í™”ë¥¼ ì¶”êµ¬í•©ë‹ˆë‹¤. ì¹˜ìš°ì¹˜ì§€ ì•ŠëŠ” ê· í˜•ê°ê°ìœ¼ë¡œ ì£¼ë³€ê³¼ ìì—°ìŠ¤ëŸ½ê²Œ ì–´ìš°ëŸ¬ì§€ëŠ” ë§‘ê³  ê¹¨ë—í•œ 'ê²°'ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.", background: "bg-gray-500", colorCode: "#6B7280" }
        };

        const sensoryWords = {
            EMOTIONAL_CONNECT: { texture: ["ë”°ëœ»í•œ", "ë¶€ë“œëŸ¬ìš´", "í¬ê·¼í•œ"], color: ["í•‘í¬ë¹›", "ë³µìˆ­ì•„ë¹›"], scent: ["ê½ƒí–¥ê¸°", "ë‹¬ì½¤í•œ ê³¼ì¼í–¥"], shape: ["ì†œì‚¬íƒ•", "ì‹¤í¬ ìŠ¤ì¹´í”„", "êµ¬ë¦„"] },
            PRACTICAL_RATIONAL: { texture: ["ì‹œì›í•œ", "ë§¤ë„ëŸ¬ìš´", "ë‹¨ë‹¨í•œ"], color: ["í•˜ëŠ˜ìƒ‰", "íšŒìƒ‰ë¹›"], scent: ["ë¹„ ëƒ„ìƒˆ", "ë¯¼íŠ¸í–¥"], shape: ["ìˆ˜ì •", "ìœ ë¦¬êµ¬ìŠ¬", "ì–¼ìŒ ì¡°ê°"] },
            STABILITY_ORIENTED: { texture: ["ë‹¨ë‹¨í•œ", "ì°¨ë¶„í•œ", "í¸ì•ˆí•œ"], color: ["ì—°ë‘ìƒ‰", "ê°ˆìƒ‰ë¹›"], scent: ["ë‚˜ë¬´í–¥", "ì –ì€ í™ëƒ„ìƒˆ"], shape: ["ì¡°ì•½ëŒ", "ë‚˜ë­‡ì", "ì´ë¼"] },
            ACTIVE_EXPERIENCE: { texture: ["ëœ¨ê±°ìš´", "í†¡í†¡ íŠ€ëŠ”", "ì§œë¦¿í•œ"], color: ["ë…¸ë€ìƒ‰", "ì£¼í™©ìƒ‰"], scent: ["ìƒí¼í•œ ë ˆëª¬í–¥", "íƒ€ì˜¤ë¥´ëŠ” ì¥ì‘ ëƒ„ìƒˆ"], shape: ["ë³„", "ë¶ˆê½ƒ", "ë³´ì„ ì›ì„"] },
            AUTONOMY_FLEXIBILITY: { texture: ["ì‹ ë¹„ë¡œìš´", "ì˜¤ë¬˜í•œ", "ê°€ë²¼ìš´"], color: ["ë³´ëë¹›", "ë‚¨ìƒ‰"], scent: ["ê¹Šì€ ë°¤ê³µê¸° ëƒ„ìƒˆ", "ê³ ìš”í•œ ìˆ²ì˜ í–¥"], shape: ["ì•ˆê°œ", "ììˆ˜ì •", "ê¹ƒí„¸"] },
            ADAPTIVE_BALANCED: { texture: ["ê¹¨ë—í•œ", "ë§‘ì€", "íˆ¬ëª…í•œ"], color: ["í°ìƒ‰", "íˆ¬ëª…í•œ"], scent: ["ë¬´í–¥(ç„¡é¦™)", "ë§‘ì€ ê³µê¸° ëƒ„ìƒˆ"], shape: ["ë¬¼ë°©ìš¸", "ì´ìŠ¬", "ë°±ì"] }
        };


        const maleQuestionsContainer = document.getElementById('male-questions');
        const femaleQuestionsContainer = document.getElementById('female-questions');
        const calculateBtn = document.getElementById('calculate-btn');
        const resultsContainer = document.getElementById('results');
        const warningMessage = document.getElementById('warning-message');
        const questionSection = document.getElementById('question-section');
        const retryBtn = document.getElementById('retry-btn');
        const combinedGradientEl = document.getElementById('combined-gradient');
        
        const matchingScoreEl = document.getElementById('matching-score');
        const scoreBarEl = document.getElementById('score-bar');

        const resultVisualMaleEl = document.getElementById('result-visual-male');
        const resultProfileTextMaleEl = document.getElementById('result-profile-text-male');
        const resultGroupNameMaleEl = document.getElementById('result-group-name-male');
        const resultGroupDescriptionMaleEl = document.getElementById('result-group-description-male');
        const maleTagsEl = document.getElementById('male-tags');

        const resultVisualFemaleEl = document.getElementById('result-visual-female');
        const resultProfileTextFemaleEl = document.getElementById('result-profile-text-female');
        const resultGroupNameFemaleEl = document.getElementById('result-group-name-female');
        const resultGroupDescriptionFemaleEl = document.getElementById('result-group-description-female');
        const femaleTagsEl = document.getElementById('female-tags');
        
        const relationshipAdviceEl = document.getElementById('relationship-advice');

        function findTagGroupKey(tag) {
            for (const key in tagGroups) {
                if (tagGroups[key].tags.includes(tag)) { return key; }
            }
            return null;
        }
        
        function createQuestionHTML(q, gender) {
            const optionsHTML = q.options.map((opt, index) => `
                <label class="block border border-gray-200 p-3 rounded-lg hover:bg-gray-100 cursor-pointer">
                    <input type="radio" name="${q.id}-${gender}" value="${index}" data-tag="${opt.tag}" class="mr-2">
                    ${opt.text}
                </label>
            `).join('');

            return `<div class="question-card bg-white p-4 rounded-lg shadow-sm border">
                        <p class="font-semibold mb-3 text-gray-800">${q.text}</p>
                        <div class="space-y-2">${optionsHTML}</div>
                    </div>`;
        }


        function renderQuestions() {
            let maleHTML = '', femaleHTML = '', lastMaleBrainType = '', lastFemaleBrainType = '';
            questions.forEach(q => {
                if(q.brainType !== lastMaleBrainType) { maleHTML += `<h3 class="brain-type-header male-header">${q.brainType}</h3>`; lastMaleBrainType = q.brainType; }
                maleHTML += createQuestionHTML(q, 'male');
                if(q.brainType !== lastFemaleBrainType) { femaleHTML += `<h3 class="brain-type-header female-header">${q.brainType}</h3>`; lastFemaleBrainType = q.brainType; }
                femaleHTML += createQuestionHTML(q, 'female');
            });
            maleQuestionsContainer.innerHTML = maleHTML;
            femaleQuestionsContainer.innerHTML = femaleHTML;
        }

        function getRandomItem(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }
        
        function generateProfile(groupKey) {
            const profileWords = sensoryWords[groupKey];
            const texture = getRandomItem(profileWords.texture);
            const color = getRandomItem(profileWords.color);
            const scent = getRandomItem(profileWords.scent);
            const shape = getRandomItem(profileWords.shape);
            return `${texture} ${color} ${scent}ì˜ ${shape}`;
        }

        function calculateResults() {
            const totalQuestions = questions.length;
            const maleAnsweredCount = document.querySelectorAll('#male-questions input:checked').length;
            const femaleAnsweredCount = document.querySelectorAll('#female-questions input:checked').length;

            if (maleAnsweredCount < totalQuestions || femaleAnsweredCount < totalQuestions) {
                warningMessage.classList.remove('hidden');
                return;
            }
            warningMessage.classList.add('hidden');
            
            let totalScore = 0;
            const maleTags = {}, femaleTags = {}, maleGroupCounts = {}, femaleGroupCounts = {};

            questions.forEach((q) => {
                const maleAnswerNode = document.querySelector(`input[name="${q.id}-male"]:checked`);
                const femaleAnswerNode = document.querySelector(`input[name="${q.id}-female"]:checked`);
                const maleTag = maleAnswerNode.dataset.tag;
                const femaleTag = femaleAnswerNode.dataset.tag;
                
                if (maleAnswerNode.value === femaleAnswerNode.value) { totalScore += 1; } 
                else {
                    const maleGroupKey = findTagGroupKey(maleTag);
                    const femaleGroupKey = findTagGroupKey(femaleTag);
                    if (maleGroupKey && maleGroupKey === femaleGroupKey) { totalScore += 0.5; }
                }
                
                maleTags[maleTag] = (maleTags[maleTag] || 0) + 1;
                femaleTags[femaleTag] = (femaleTags[femaleTag] || 0) + 1;
                
                const maleGroupKey = findTagGroupKey(maleTag);
                if(maleGroupKey) maleGroupCounts[maleGroupKey] = (maleGroupCounts[maleGroupKey] || 0) + 1;
                
                const femaleGroupKey = findTagGroupKey(femaleTag);
                if(femaleGroupKey) femaleGroupCounts[femaleGroupKey] = (femaleGroupCounts[femaleGroupKey] || 0) + 1;
            });

            const score = Math.round((totalScore / totalQuestions) * 100);
            matchingScoreEl.textContent = `${score}%`;
            setTimeout(() => { scoreBarEl.style.width = `${score}%`; }, 100);

            const dominantMaleGroupKey = Object.keys(maleGroupCounts).length > 0 ? Object.keys(maleGroupCounts).reduce((a, b) => maleGroupCounts[a] > maleGroupCounts[b] ? a : b) : 'ADAPTIVE_BALANCED';
            const dominantFemaleGroupKey = Object.keys(femaleGroupCounts).length > 0 ? Object.keys(femaleGroupCounts).reduce((a, b) => femaleGroupCounts[a] > femaleGroupCounts[b] ? a : b) : 'ADAPTIVE_BALANCED';
            
            const maleProfileData = sensoryProfiles[dominantMaleGroupKey];
            const femaleProfileData = sensoryProfiles[dominantFemaleGroupKey];

            // Set Gradient
            combinedGradientEl.style.background = `linear-gradient(to right, ${maleProfileData.colorCode}, ${femaleProfileData.colorCode})`;

            // Male Profile UI
            resultVisualMaleEl.className = `mt-4 p-6 rounded-lg transition-all duration-500 ${maleProfileData.background}`;
            resultProfileTextMaleEl.textContent = generateProfile(dominantMaleGroupKey);
            resultGroupNameMaleEl.textContent = `ë‚¨ìëŠ” '${maleProfileData.name}'ì˜ ê²°`;
            resultGroupDescriptionMaleEl.textContent = maleProfileData.description;
            maleTagsEl.innerHTML = Object.entries(maleTags).sort((a, b) => b[1] - a[1]).map(([tag, count]) => `<span class="result-tag font-medium py-1 px-3 rounded-full text-sm">${tag}${count > 1 ? ` x${count}` : ''}</span>`).join('');
            
            // Female Profile UI
            resultVisualFemaleEl.className = `mt-4 p-6 rounded-lg transition-all duration-500 ${femaleProfileData.background}`;
            resultProfileTextFemaleEl.textContent = generateProfile(dominantFemaleGroupKey);
            resultGroupNameFemaleEl.textContent = `ì—¬ìëŠ” '${femaleProfileData.name}'ì˜ ê²°`;
            resultGroupDescriptionFemaleEl.textContent = femaleProfileData.description;
            femaleTagsEl.innerHTML = Object.entries(femaleTags).sort((a, b) => b[1] - a[1]).map(([tag, count]) => `<span class="result-tag font-medium py-1 px-3 rounded-full text-sm">${tag}${count > 1 ? ` x${count}` : ''}</span>`).join('');
            
            if (dominantMaleGroupKey === dominantFemaleGroupKey) {
                relationshipAdviceEl.textContent = `ë‘ ë¶„ì€ ê°™ì€ '${maleProfileData.name}' ì„±í–¥ìœ¼ë¡œ, í•µì‹¬ ê°€ì¹˜ê´€ì´ ë§¤ìš° ìœ ì‚¬í•˜ì—¬ ì„œë¡œë¥¼ ê¹Šì´ ì´í•´í•˜ëŠ” ì»¤í”Œì…ë‹ˆë‹¤. í•¨ê»˜ ìˆì„ ë•Œ ê°€ì¥ í¸ì•ˆí•˜ê³  ì•ˆì •ì ì¸ ê´€ê³„ë¥¼ ë§Œë“¤ì–´ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
            } else {
                relationshipAdviceEl.textContent = `ë‘ ë¶„ì€ ê°ê° '${maleProfileData.name}', '${femaleProfileData.name}' ì„±í–¥ìœ¼ë¡œ, ì„œë¡œ ë‹¤ë¥¸ ë§¤ë ¥ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤. ì´ ë‹¤ë¦„ì€ ì„œë¡œì˜ ì„¸ê³„ë¥¼ ë„“í˜€ì£¼ê³  í•¨ê»˜ ì„±ì¥í•˜ëŠ” ì¢‹ì€ ìê·¹ì´ ë  ê²ƒì…ë‹ˆë‹¤. ì„œë¡œì˜ 'ê²°'ì„ ì¡´ì¤‘í•˜ê³  ë°°ìš°ëŠ” ìì„¸ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.`;
            }

            questionSection.classList.add('hidden');
            resultsContainer.classList.remove('hidden');
            document.querySelectorAll('#results .fade-in').forEach(el => el.style.opacity = 0);
            setTimeout(() => {
                 document.querySelectorAll('#results .fade-in').forEach(el => el.classList.add('is-visible'));
            }, 10);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        retryBtn.addEventListener('click', () => {
            resultsContainer.classList.add('hidden');
            questionSection.classList.remove('hidden');
            const allRadios = document.querySelectorAll('input[type="radio"]');
            allRadios.forEach(radio => radio.checked = false);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        calculateBtn.addEventListener('click', calculateResults);

        renderQuestions();
    </script>
</body>
</html>

